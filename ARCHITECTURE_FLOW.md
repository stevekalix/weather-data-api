# Weather Data API - Visual Architecture & Flow Guide

## ğŸ—ï¸ Application Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     CLIENT LAYER                                 â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚ Web Browser  â”‚  â”‚   Postman    â”‚  â”‚ curl/Script  â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚         â”‚                 â”‚                 â”‚                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                 â”‚                 â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                    HTTP Requests (REST)
                            â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   SPRING BOOT APPLICATION                        â”‚
â”‚                     (Port 8081)                                  â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              WeatherController                           â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚  @PostMapping("/upload")                           â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  @GetMapping("/all")                               â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  @GetMapping("/{id}")                              â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  @PutMapping("/update/{id}")                       â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  @DeleteMapping("/{id}")                           â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  @GetMapping("/humidity/filter")                   â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  @GetMapping("/temperature/filter")                â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  @GetMapping("/rain/filter")                       â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  @GetMapping("/health")                            â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚             â”‚                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚           WeatherRepo (JpaRepository)                    â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚  Provides CRUD Operations:                              â”‚   â”‚
â”‚  â”‚  - save()      (Create/Update)                          â”‚   â”‚
â”‚  â”‚  - findAll()   (Read All)                               â”‚   â”‚
â”‚  â”‚  - findById()  (Read by ID)                             â”‚   â”‚
â”‚  â”‚  - deleteById() (Delete)                                â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚             â”‚                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚          WeatherModel (JPA Entity)                       â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚ @Entity                                             â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ @Table(name = "weather_data")                       â”‚ â”‚   â”‚
â”‚  â”‚  â”‚                                                     â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ Fields (21 total):                                 â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ - id (PK)                                          â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ - datetime_utc                                     â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ - _tempm, _hum, _rain, ... (19 more)             â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚             â”‚                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â”‚ JDBC Connection
              â”‚ (MySQL Connector/J)
              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      MySQL DATABASE                              â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  weatherdb (Database)                                    â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚ weather_data (Table)                              â”‚  â”‚   â”‚
â”‚  â”‚  â”‚                                                    â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ Columns (21):                                     â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ â”‚ id (PK, Auto-increment)                      â”‚  â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ â”‚ datetime_utc (VARCHAR)                       â”‚  â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ â”‚ _conds, _dewptm, _fog, _hail, ...           â”‚  â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ â”‚ _tempm, _hum, _rain, _snow, ...             â”‚  â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ â”‚ _pressurem, _wdird, _wdire, _wspdm, ...     â”‚  â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚   â”‚
â”‚  â”‚  â”‚                                                    â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ Rows: Unlimited (your weather data)              â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Data Flow Diagrams

### Upload Flow (CSV to Database)
```
CSV File
   â”‚
   â–¼
MultipartFile
   â”‚
   â–¼
WeatherController.uploadWeatherData()
   â”‚
   â”œâ”€â†’ Read CSV Line by Line
   â”‚
   â”œâ”€â†’ Skip Header Row
   â”‚
   â”œâ”€â†’ Parse Each Row
   â”‚   â””â”€â†’ Split by comma
   â”‚   â””â”€â†’ Validate 20 columns
   â”‚   â””â”€â†’ Convert to WeatherModel
   â”‚
   â”œâ”€â†’ WeatherRepo.save()
   â”‚
   â–¼
MySQL Database
```

### Read Flow (Database to Client)
```
Client Request
   â”‚
   â–¼
WeatherController.findAll()
   â”‚
   â–¼
WeatherRepo.findAll()
   â”‚
   â–¼
Hibernate Query
   â”‚
   â–¼
MySQL SELECT * FROM weather_data
   â”‚
   â–¼
ResultSet
   â”‚
   â–¼
List<WeatherModel>
   â”‚
   â–¼
Jackson Serialization
   â”‚
   â–¼
JSON Response
   â”‚
   â–¼
Client (Browser/Postman)
```

### Filter Flow (With Query Parameter)
```
GET /api/weather/humidity/filter?hum=60
   â”‚
   â–¼
WeatherController.filterByHumidity(60)
   â”‚
   â–¼
WeatherRepo.findAll()  (Get all from DB)
   â”‚
   â–¼
Stream Filter
   â”‚
   â”œâ”€â†’ filter(w -> w.get_hum() > 60)
   â”‚
   â–¼
List<WeatherModel>  (filtered)
   â”‚
   â–¼
ResponseEntity<List<WeatherModel>>
   â”‚
   â–¼
JSON Response
   â”‚
   â–¼
Client
```

---

## ğŸ”„ Request-Response Cycle

### Example: Get All Records

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Client/Browser  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ GET /api/weather/all
         â”‚ Host: localhost:8081
         â”‚ Accept: application/json
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Spring DispatcherServlet           â”‚
â”‚   (Routing)                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”‚ Route to Method
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  @GetMapping("/all")                 â”‚
â”‚  findAll()                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”‚ Invoke Service
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  WeatherRepo.findAll()               â”‚
â”‚  (JpaRepository)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”‚ Generate SQL
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SELECT * FROM weather_data          â”‚
â”‚  (Hibernate)                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”‚ Execute Query
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  MySQL Database Query                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”‚ Result Set
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  List<WeatherModel>                  â”‚
â”‚  (Object Mapping)                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”‚ Serialize to JSON
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [                                   â”‚
â”‚    {                                 â”‚
â”‚      "id": 1,                        â”‚
â”‚      "datetime_utc": "2024-01...",   â”‚
â”‚      "_tempm": 22,                   â”‚
â”‚      ...                             â”‚
â”‚    }                                 â”‚
â”‚  ]                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”‚ HTTP Response
           â”‚ Status: 200 OK
           â”‚ Content-Type: application/json
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Client/Browser  â”‚
â”‚  (Display Data)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ Endpoint Decision Tree

```
                    API Request
                         â”‚
                         â–¼
                    What method?
                    /            \
                   /              \
                GET                POST/PUT/DELETE
               /   \
              /     \
            /        \
        Health?    /all?     /{id}?      /upload?
          â”‚         â”‚          â”‚           â”‚
          â”‚         â”‚          â”‚           â”‚
    âœ… health()  findAll()   findById()  uploadFile()
                    â”‚          â”‚
                    â”‚      /update/{id}?
                    â”‚          â”‚
                   All?        Yes
                    â”‚          â”‚
                    â”‚      âœ… updateById()
                    â”‚
                  /filter?
                   /    \
                  /      \
            humidity?  temp?  rain?
              â”‚          â”‚      â”‚
              â”‚          â”‚      â”‚
         humidity    temperature  rain
         filter()    filter()    filter()
                     
          âœ… filter()
```

---

## ğŸ“ HTTP Method Mapping

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   HTTP METHODS                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                           â”‚
â”‚  GET (Retrieve Data)                                     â”‚
â”‚  â”œâ”€ /health              â†’ Check if API running          â”‚
â”‚  â”œâ”€ /all                 â†’ Get all records               â”‚
â”‚  â”œâ”€ /{id}                â†’ Get specific record           â”‚
â”‚  â””â”€ /filter?param=val    â†’ Get filtered data             â”‚
â”‚                                                           â”‚
â”‚  POST (Create Data)                                      â”‚
â”‚  â””â”€ /upload              â†’ Upload CSV file               â”‚
â”‚                                                           â”‚
â”‚  PUT (Update Data)                                       â”‚
â”‚  â””â”€ /update/{id}         â†’ Update specific record        â”‚
â”‚                                                           â”‚
â”‚  DELETE (Remove Data)                                    â”‚
â”‚  â””â”€ /{id}                â†’ Delete specific record        â”‚
â”‚                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ’¾ Data Persistence Flow

```
User Input (CSV)
      â”‚
      â–¼
CSV Parser
      â”‚
      â”œâ”€ Validate Format (20 columns)
      â”œâ”€ Parse Values
      â”œâ”€ Type Conversion
      â”‚
      â–¼
WeatherModel Object
      â”‚
      â”œâ”€ Set all fields
      â”œâ”€ Validate data
      â”‚
      â–¼
WeatherRepo.save()
      â”‚
      â”œâ”€ Generate SQL INSERT
      â”œâ”€ Execute Query
      â”‚
      â–¼
MySQL Database
      â”‚
      â”œâ”€ Insert Row
      â”œâ”€ Auto-generate ID
      â”œâ”€ Return Updated Entity
      â”‚
      â–¼
Application (In Memory)
      â”‚
      â”œâ”€ Count saved records
      â”œâ”€ Report success
      â”‚
      â–¼
HTTP Response
      â”‚
      "File processed successfully. Saved X records."
```

---

## ğŸ” Query Processing Flow

```
SELECT Example: Get records with temperature >= 20

WeatherController.filterByTemperature(20)
      â”‚
      â”œâ”€ weatherRepo.findAll()
      â”‚  â””â”€ Retrieve ALL records from DB
      â”‚
      â”œâ”€ Stream from List
      â”‚  â””â”€ Create Java Stream
      â”‚
      â”œâ”€ filter(w -> w.get_tempm() >= 20)
      â”‚  â””â”€ In-memory filtering
      â”‚
      â”œâ”€ toList()
      â”‚  â””â”€ Collect results
      â”‚
      â”œâ”€ Check if empty
      â”‚  â””â”€ If empty â†’ 204 No Content
      â”‚  â””â”€ If found â†’ 200 OK with data
      â”‚
      â–¼
ResponseEntity<List<WeatherModel>>
      â”‚
      â–¼
JSON Response to Client
```

---

## ğŸ“Š Entity Relationship

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     WeatherModel (Entity)           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ @Entity                             â”‚
â”‚ @Table(name = "weather_data")       â”‚
â”‚                                     â”‚
â”‚ Attributes (21):                    â”‚
â”‚ â”œâ”€ id : Integer (PK)                â”‚
â”‚ â”œâ”€ datetime_utc : String            â”‚
â”‚ â”œâ”€ _tempm : Integer                 â”‚
â”‚ â”œâ”€ _hum : Integer                   â”‚
â”‚ â”œâ”€ _rain : Integer                  â”‚
â”‚ â”œâ”€ _conds : String                  â”‚
â”‚ â”œâ”€ _pressurem : Long                â”‚
â”‚ â”œâ”€ _wdird : Integer                 â”‚
â”‚ â”œâ”€ ... (13 more fields)             â”‚
â”‚                                     â”‚
â”‚ Methods:                            â”‚
â”‚ â”œâ”€ Getters (Lombok)                 â”‚
â”‚ â”œâ”€ Setters (Lombok)                 â”‚
â”‚ â”œâ”€ Constructors (Lombok)            â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â”‚ Maps to
              â”‚
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     weather_data (DB Table)         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ CREATE TABLE weather_data (         â”‚
â”‚   id INT AUTO_INCREMENT PRIMARY KEY,â”‚
â”‚   datetime_utc VARCHAR(255),        â”‚
â”‚   _tempm INT,                       â”‚
â”‚   _hum INT,                         â”‚
â”‚   _rain INT,                        â”‚
â”‚   ... (16 more columns)             â”‚
â”‚ )                                   â”‚
â”‚                                     â”‚
â”‚ Managed by: Hibernate               â”‚
â”‚ Auto-create: Yes                    â”‚
â”‚ Auto-update: Yes                    â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸš€ Application Startup Flow

```
mvn spring-boot:run
      â”‚
      â–¼
JVM Start
      â”‚
      â–¼
Spring Boot Initialization
      â”‚
      â”œâ”€ Load application.properties
      â”‚  â”œâ”€ Server port: 8081
      â”‚  â”œâ”€ Database URL
      â”‚  â”œâ”€ Multipart config
      â”‚
      â–¼
Spring Context Creation
      â”‚
      â”œâ”€ Scan @SpringBootApplication
      â”‚ â”œâ”€ WeatherDataApplication
      â”‚
      â”œâ”€ Scan @Repository
      â”‚ â”œâ”€ WeatherRepo
      â”‚
      â”œâ”€ Scan @RestController
      â”‚ â”œâ”€ WeatherController
      â”‚
      â”œâ”€ Scan @Entity
      â”‚ â”œâ”€ WeatherModel
      â”‚
      â–¼
Dependency Injection
      â”‚
      â”œâ”€ Inject WeatherRepo into WeatherController
      â”‚
      â–¼
Hibernate Initialization
      â”‚
      â”œâ”€ Connect to MySQL
      â”œâ”€ Validate/Create Schema
      â”‚ â””â”€ Verify weather_data table
      â”‚ â””â”€ Create if not exists
      â”‚
      â–¼
Tomcat Web Server Start
      â”‚
      â”œâ”€ Bind to port 8081
      â”œâ”€ Deploy application
      â”œâ”€ Enable CORS
      â”œâ”€ Configure multipart
      â”‚
      â–¼
Ready for Requests
      â”‚
      "Tomcat started on port 8081"
      "Started WeatherDataApplication in X.XXX seconds"
      â”‚
      â–¼
âœ… API is Running!
```

---

## ğŸ¯ Error Handling Flow

```
Client Request
      â”‚
      â–¼
WeatherController Method
      â”‚
      â–¼
Try Processing
      â”‚
      â”œâ”€ Success?
      â”‚  â””â”€ 200 OK + Data
      â”‚
      â””â”€ Error?
         â”‚
         â”œâ”€ Empty File?
         â”‚  â””â”€ 400 Bad Request
         â”‚
         â”œâ”€ Record Not Found?
         â”‚  â””â”€ 404 Not Found
         â”‚
         â”œâ”€ Parse Error?
         â”‚  â””â”€ 500 Internal Server Error
         â”‚
         â”œâ”€ No Data Match?
         â”‚  â””â”€ 204 No Content
         â”‚
         â””â”€ Exception?
            â”œâ”€ Log error
            â”œâ”€ Return error message
            â””â”€ Return error status

Response to Client
```

---

This visual guide helps understand:
- âœ… Application architecture
- âœ… Data flow through layers
- âœ… Request-response cycle
- âœ… Database interaction
- âœ… Error handling
- âœ… Entity mapping
- âœ… Startup process

